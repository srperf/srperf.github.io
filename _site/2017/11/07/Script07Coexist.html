<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Script07coexist | Señor Performo</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Script07coexist" />
<meta name="author" content="srperf" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="SCRIPTINGSCRIPTING 07: SO HAPPY TOGETHER" />
<meta property="og:description" content="SCRIPTINGSCRIPTING 07: SO HAPPY TOGETHER" />
<link rel="canonical" href="http://localhost:4000/2017/11/07/Script07Coexist.html" />
<meta property="og:url" content="http://localhost:4000/2017/11/07/Script07Coexist.html" />
<meta property="og:site_name" content="Señor Performo" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-11-07T00:00:00-06:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Script07coexist" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"srperf"},"dateModified":"2017-11-07T00:00:00-06:00","datePublished":"2017-11-07T00:00:00-06:00","description":"SCRIPTINGSCRIPTING 07: SO HAPPY TOGETHER","headline":"Script07coexist","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2017/11/07/Script07Coexist.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/img/logo.png"},"name":"srperf"},"url":"http://localhost:4000/2017/11/07/Script07Coexist.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="wrapper">
      <header>
        
          <a href="http://localhost:4000/">
            <img src="/assets/img/logo.png" alt="SrPerf" width="300" height="250"/>
          </a>
        

        
        <nav>
    <h3><ul>
        <li><a href="/">Blog</a></li>
        <ul>
            <li><a href="/about.html">History</a></li>
        </ul>
        <li><a href="/podcast.html">Podcast</a></li>
        <li><a href="/youtube.html">YouTube</a></li>
        <li><a href="/presenter.html">Presenter</a></li>
        <li><a href="/me.html">Me</a></li>

        <!-- Add additional menu items as needed -->
    </ul></h3>
</nav>

        

        

        
      </header>
      <section>

      <small>7 November 2017</small>
<p class="view">by srperf</p>

<h1 id="scriptingscripting-07-so-happy-together">SCRIPTINGSCRIPTING 07: SO HAPPY TOGETHER</h1>

<p><img src="https://i0.wp.com/www.srperf.com/wp-content/uploads/2017/11/ArtBoard-Image-37.jpg?fit=1200%2C600&amp;ssl=1" alt="" /></p>

<p>There is another characteristic for the scripts that we create. They will be simulating different users doing the same process all together at the same time. This is known as <a href="https://en.wikipedia.org/wiki/Concurrency_(computer_science)">concurrency</a>.</p>

<p>Just like moving into a house together, concurrency can bring problems of coexistence. The multiple users doing the same thing at the same time can generate conflicts, especially with the data. There is a chance that the users could collide with each other trying to use the same value of a variable at the same time. Some times that value may be one that the system doesn’t allow to be shared. This will break the iteration of the script(s) colliding. This could even crash all the scripts running that process.</p>

<p><a href="https://www.srperf.com/scripting-05-variables/">Previously, we did some actions to ensure that this will not happen</a>. We gave the data the best configurations that we could, so that the virtual users would not crash when using it. Now it is time to test if we configured them in the right way and that we did not miss anything.</p>

<h2 id="move-to-the-house-together">MOVE TO THE HOUSE TOGETHER</h2>

<p><img src="https://i0.wp.com/www.srperf.com/wp-content/uploads/2017/11/ArtBoard-Image-38.jpg?resize=400%2C334&amp;ssl=1" alt="Living together" /></p>

<p>The first step is to move everyone into the house that you will be shared. In this case the scripts will be the people, and the load testing tool will be the house. The system counts as the house as well, but it is more like the actions that you can do in it.</p>

<p>First, move the script into the loading tool. Bring the data for each and every piece needed to run. Just like you would do with a moving van. Bring the furniture and personal items that each person will need to coexist in that house.</p>

<p>Once there, you must assign each person a room. The scripts will receive a similar treatment. You must configure them to be a multiple set of users. You must configure them in special ways that they will run for this validation. First, I recommend you to put 3 to 5 concurrent users running the script that you just created. Those are good enough as 3 to 5 people is what usually lives in a house. Whenever possible aim at a full house of 5.</p>

<h2 id="repeat-the-times-together">REPEAT THE TIMES TOGETHER</h2>

<p>We will focus now on running just a few times together to make sure that we do not have initial bumps. Different from what what we did in the last phase, here we will aim towards 10 iterations per virtual user. The higher number of repetitions is because we must make sure that they will not collide or fight for data.</p>

<p>This execution will have no stops, so avoid wait times in between steps. Configure them to start all at the same time. When you do this, you will increase the chances of them trying to do the same step at the same time.</p>

<p>This will be just like a house with a full family. They must be fine sharing common places like the kitchen. Everybody can be there doing their thing at the same time in the kitchen.</p>

<p>Other rooms will not allow you to have many people at the same time, like the bathroom. You can have only one person at a time there. Maybe if the family is open enough you could have more people there at once. One person taking a shower while the other gets ready combing their hair and brushing their teeth.</p>

<p>You must make sure that you were organized enough that the people in the house will respect this personal space.</p>

<h2 id="long-time-living-there">LONG TIME LIVING THERE</h2>

<p>You have now validated that no one crashes after doing the same process for a few times. Now it is time to let them be that way for a while.</p>

<p>We will see if they can be left alone in the house for some time. Let them  do their things to check if they don’t fight for the bathroom. Even if you set the rules of behavior, they may respect them at the beginning for a few times. But, you could have trouble in the long run.</p>

<p>After a while, there will start fights over a toothbrush. The dad could be in a hurry to get to the office earlier and mess up everyone else’s bathroom schedule.</p>

<p>In the same way, this can happen to the scripts running concurrently. On the first iterations everything was fine, but after a while the data collides. Maybe your data could not be cycled. Or maybe it is cycling in a way that eventually the virtual users will fight for it.</p>

<p>We must do a concurrent run based on duration, instead of iterations. This way will ensure there are no issues.</p>

<p>Leave the scripts running for 10 minutes. Start the virtual users at the same time. Leave no waits in between steps and see how well they do in the long run.</p>

<h2 id="family-intervention-together">FAMILY INTERVENTION TOGETHER</h2>

<p><img src="https://i0.wp.com/www.srperf.com/wp-content/uploads/2017/11/ArtBoard-Image-39.jpg?resize=290%2C193&amp;ssl=1" alt="Problems together" /></p>

<p>You could encounter that the family has issues running any of these trials. If you find this, you must call them back and check the rules to make sure that there will be no fights.</p>

<p>You may not have been clear enough the first time. You may not have known that there could be a clash. There could be a parts where people would fight each other over something that you did not foresee.</p>

<p>In the same way, when you run these steps, check for any clash here. If you find any issue you must find out where and why are the virtual users crashing. It could be data configuration. Or it could be that there is no sufficient data for everyone to run. Maybe the process recorded did not take into account the shared spaces.</p>

<p>In any case, here you must fix any misbehavior and make sure that they will not fight with each other.</p>

<p>Repeat the process until everyone can coexist without any problem for a given period of time. You will ensure that you have a happy home with this current script.</p>

<h2 id="conclusion">CONCLUSION</h2>

<p>When you check for concurrency on your script, you will increase the certainty of its quality. This is crucial as this is often a source for problems once the execution starts.</p>

<p>Make sure that the script can coexist without any problem and you will be closer to having a bulletproof execution!</p>

<p>Next we will add some makeup to the script to make sure it looks pretty. We will ensure that it has all the accessories needed. Also that it is behaving exactly as needed.</p>

<p>But for now it is time to go. Vamonos!</p>

<p><img src="https://i0.wp.com/www.srperf.com/wp-content/uploads/2017/06/Continuara.png?resize=713%2C225&amp;ssl=1" alt="To be continued" /></p>

<p>Besos &lt;3</p>

<p>-Señor Performo</p>



  <small>tags: <em></em></small>



      </section>
      <footer>
       
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
  </body>
</html>
